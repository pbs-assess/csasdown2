```{r include_packages_2, include = FALSE}
flights <- read.csv(here::here("data/flights.csv"))
```

# TABLES, GRAPHICS, REFERENCES, AND LABELS {#ref-labels}

## TABLES

The easiest way to present tables in your report is to store the contents of the table in a .csv file, then read that file into your R Markdown document as a data frame. Then you can style the table with the `kable` function, or functions in the [kableExtra](https://cran.r-project.org/web/packages/kableExtra/index.html) pacakge. We recommend using `csasdown::csas_table()`, which simply passes some necessary arguments to `knitr::kable()` so that the tables will render correctly for CSAS.


We can also create a link to the table by doing the following: Table \@ref(tab:inher).  If you go back to [Loading and exploring data] and look at the `kable` table, we can create a reference to this max delays table too: Table \@ref(tab:maxdelays). The addition of the `(\#tab:inher)` option to the end of the table caption allows us to then make a reference to Table `\@ref(tab:label)`. Note that this reference could appear anywhere throughout the document after the table has appeared.  


```{r tableexample, results = "asis"}
set.seed(1)
df <- data.frame(year = 1:10, biomass = round(rlnorm(10), 2))
csasdown::csas_table(
  df,
  col.names = c("Year", "Biomass"),
  caption = "A table"
)
```

This is a reference to that table (Table \@ref(tab:tableexample)).

## FIGURES

```{r example-fig2, fig.cap="My caption"}
plot(1:10)
```

Here is a reference to the figure: Figure \@ref(fig:example-fig2). Note the use of the `fig:` code here.  By naming the R chunk that contains the figure, we can then reference that figure later as done in the first sentence here.  We can also specify the caption for the figure via the R chunk option `fig.cap`.

## FOOTNOTES AND ENDNOTES

You might want to footnote something. ^[footnote text] The footnote will be in a smaller font and placed appropriately.

## BIBLIOGRAPHIES

R Markdown uses pandoc (<http://pandoc.org/>) to build its bibliographies.  Here's a reference:  [@francis2011]. This `francis2011` entry appears in a file called `refs.bib` in the `bib` folder. This bibliography database file was created by a program called BibTeX.  You can call this file something else if you like (look at the YAML header in the main .Rmd file) and, by default, is to placed in the `bib` folder. Another example: @edwards2013 shows that... And another example: [e.g., @francis2011; @edwards2013, @swainbenoit2015].

**Tips for Bibliographies**

- The cite key (a citation's label) needs to be unique from the other entries.
- Bibliographies made using BibTeX (whether manually or using a manager) accept LaTeX markup, so you can italicize and add symbols as necessary.
- To force capitalization in an article title or where all lowercase is generally used, bracket the capitalized word in curly braces. E.g. `{Pacific Cod}`.

CSAS style requires the bibliography to be before the appendices and before tables and figures if you keep those together at the end of your document.

See the next file `04-references.Rmd` which will make the bibliography appear wherever that file is listed in `_bookdown.yml`.

**Tests for appendix section referencing**

Here are some references to a complex set of appendices. The appendices have sections and subsections which are used to test a special routine in csasdown. Appendices are not numbered chapters and as such special code was needed to allow for referencing of sections and subsections in them. This resdoc document is built during automated testing and these are placed here to ensure a complex testing case passes for the appendix referencing routine.

APP A:

Appendix \@ref(app:a)

Appendix section \@ref(app:a-1)

Appendix subsection \@ref(app:a-1-1)

Appendix subsubsection \@ref(app:a-1-1-1)

Appendix subsubsection \@ref(app:a-1-1-2)

Appendix subsection \@ref(app:a-1-2)

Appendix section \@ref(app:a-2)

Appendix subsection \@ref(app:a-2-1)

Appendix subsubsection \@ref(app:a-2-1-1)

Appendix subsubsection \@ref(app:a-2-1-2)

Appendix subsubsection \@ref(app:a-2-1-3)

Appendix subsection \@ref(app:a-2-2)

Appendix subsubsection \@ref(app:a-2-2-1)

Appendix subsubsection \@ref(app:a-2-2-2)

Appendix section \@ref(app:a-3)

Appendix subsection \@ref(app:a-3-1)

Appendix subsection \@ref(app:a-3-2)

Appendix subsection \@ref(app:a-3-3)

Appendix subsection \@ref(app:a-3-4)


APP B:

Appendix \@ref(app:b)

Appendix section \@ref(app:b-1)

Appendix section \@ref(app:b-2)

APP C:

Appendix \@ref(app:c)

Appendix section \@ref(app:c-1)

Appendix section \@ref(app:c-2)

Appendix section \@ref(app:c-3)

Appendix section \@ref(app:c-4)

Appendix subsection \@ref(app:c-4-1)

Appendix subsection \@ref(app:c-4-2)

Appendix subsubsection \@ref(app:c-4-2-1)

Appendix subsection \@ref(app:c-4-3)

APP D:

Appendix \@ref(app:d)

